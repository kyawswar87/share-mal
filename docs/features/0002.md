# Feature 0002: React Frontend UI for Bill Management

## Brief Description
Add a React-based frontend UI to interact with the existing BillController REST API endpoints. The frontend will provide a complete user interface for managing bills, including creating, viewing, updating, deleting, and searching bills with their associated persons and payment statuses.

## Technical Requirements

### Frontend Structure
Create a new React application in the project root with the following structure:
```
frontend/
├── package.json
├── public/
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── components/
│   │   ├── BillList.jsx
│   │   ├── BillForm.jsx
│   │   ├── BillCard.jsx
│   │   ├── PersonList.jsx
│   │   ├── PersonForm.jsx
│   │   └── SearchBar.jsx
│   ├── services/
│   │   └── billApi.js
│   ├── utils/
│   │   └── constants.js
│   ├── App.js
│   └── index.js
```

### API Integration
Create a service layer (`src/services/billApi.js`) that maps to all BillController endpoints:

**GET /api/v1/bills** - `getAllBills()`
- Fetch all bills with their associated persons
- Display in a responsive card layout

**GET /api/v1/bills/{id}** - `getBillById(id)`
- Fetch specific bill details
- Show detailed view with person list and payment statuses

**POST /api/v1/bills** - `createBill(billData)`
- Create new bill with title, total amount, operator type, bill date, and persons
- Support both EQUALLY and CUSTOM operator types
- For EQUALLY: auto-calculate amounts per person
- For CUSTOM: allow manual amount input per person

**PUT /api/v1/bills/{id}** - `updateBill(id, billData)`
- Update existing bill properties
- Handle partial updates (only provided fields)

**DELETE /api/v1/bills/{id}** - `deleteBill(id)`
- Delete bill with confirmation dialog

**GET /api/v1/bills/status/{status}** - `getBillsByStatus(status)`
- Filter bills by status (INCOMPLETE, COMPLETE, PAID)
- Add status filter dropdown/buttons

**GET /api/v1/bills/search?title={title}** - `searchBillsByTitle(title)`
- Search bills by title with real-time search
- Implement debounced search input

**PUT /api/v1/bills/{id}/status** - `updateBillStatus(id)`
- Update bill status based on person payment statuses
- Trigger when person payment status changes

### Data Models
Create TypeScript interfaces or JavaScript objects matching the backend DTOs:

**BillDto Structure:**
```javascript
{
  id: number,
  title: string,
  totalAmount: number,
  operator: 'EQUALLY' | 'CUSTOM',
  billDate: string,
  status: 'INCOMPLETE' | 'COMPLETE' | 'PAID',
  persons: PersonDto[],
  createdAt: string,
  updatedAt: string
}
```

**PersonDto Structure:**
```javascript
{
  id: number,
  name: string,
  amount: number,
  paymentStatus: 'PAID' | 'UNPAID',
  billId: number
}
```

**BillCreateRequest Structure:**
```javascript
{
  title: string,
  totalAmount: number,
  operator: 'EQUALLY' | 'CUSTOM',
  billDate: string,
  persons: [
    {
      name: string,
      amount?: number // Required for CUSTOM, optional for EQUALLY
    }
  ]
}
```

### UI Components

**BillList Component:**
- Display bills in responsive grid/card layout
- Show bill title, total amount, status, date, and person count
- Include action buttons (view, edit, delete)
- Implement pagination or infinite scroll for large datasets

**BillForm Component:**
- Create/edit bill form with validation
- Fields: title, total amount, operator type, bill date
- Dynamic person list with add/remove functionality
- Amount distribution logic:
  - EQUALLY: Show calculated amount per person (read-only)
  - CUSTOM: Allow individual amount input with total validation

**BillCard Component:**
- Individual bill display card
- Show key information at a glance
- Status indicator with color coding
- Quick action buttons

**PersonList Component:**
- Display persons within a bill
- Show name, amount, and payment status
- Toggle payment status functionality
- Edit person details inline

**SearchBar Component:**
- Real-time search by bill title
- Debounced input to avoid excessive API calls
- Clear search functionality

### State Management
Implement React state management for:
- Bills list and current bill data
- Form states and validation
- Loading states for API calls
- Error handling and user feedback
- Search and filter states

### Styling and UX
- Responsive design for mobile and desktop
- Modern UI with clean, intuitive interface
- Loading spinners and error messages
- Form validation with user-friendly error messages
- Confirmation dialogs for destructive actions
- Status indicators with appropriate colors:
  - INCOMPLETE: Orange/Yellow
  - COMPLETE: Green
  - PAID: Blue

### Error Handling
- Handle API errors gracefully
- Display user-friendly error messages
- Implement retry mechanisms for failed requests
- Validate form inputs before submission
- Handle network connectivity issues

### Dependencies
Install required npm packages:
- `react` and `react-dom` for core React functionality
- `axios` for HTTP requests
- `react-router-dom` for navigation (if multi-page needed)
- `date-fns` for date formatting
- CSS framework (Bootstrap, Tailwind, or Material-UI) for styling
- Form validation library (react-hook-form or formik)

### Integration Points
- Configure API base URL to point to Spring Boot backend
- Handle CORS if needed (backend already configured)
- Implement proper error handling for HTTP status codes
- Use consistent date formatting between frontend and backend
- Ensure proper handling of BigDecimal amounts in JavaScript

### Development Setup
- Create package.json with all necessary dependencies
- Set up development server with hot reload
- Configure build process for production deployment
- Add environment configuration for different deployment stages
- Implement proper API endpoint configuration

This frontend will provide a complete user interface for the bill splitting application, allowing users to manage bills, add participants, track payments, and monitor bill statuses through an intuitive React-based interface.
